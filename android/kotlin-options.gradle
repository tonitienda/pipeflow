// Configure Kotlin JVM target for all subprojects
subprojects {
    afterEvaluate { subproject ->
        // Configure all Kotlin compilation tasks
        subproject.tasks.matching { task ->
            task.name.matches(/^compile.*Kotlin.*/)
        }.configureEach { task ->
            // Configure kotlinOptions if available
            if (task.hasProperty('kotlinOptions')) {
                task.kotlinOptions.jvmTarget = '11'
            }
        }
    }
}
